"use strict";let doc=document,innerWindowWidth=()=>window.innerWidth,innerWindowHeight=()=>window.innerHeight,body=document.body,modalLinks=doc.querySelectorAll("[data-modal-link]");for(let e of modalLinks)e.addEventListener("click",()=>{let o=e.dataset.modalLink;if(void 0!==o){showOrHideModal(doc.getElementById(o))}});let modalClosers=doc.querySelectorAll(".modal-closer");for(const e of modalClosers)e.addEventListener("click",()=>{closeModal(e.closest(".modal-window"),!0)});function returnScrollbarWidth(){return innerWindowWidth()-doc.querySelector("html").clientWidth}let unlock=!0;const transitionTimeout=.5;function showOrHideModal(e){if(e&&unlock){let o=doc.querySelector(".modal-window.active");o?closeModal(o,!1):toggleBodyScroll(!1),e.classList.add("active")}e.addEventListener("click",o=>{o.target.closest(".modal-window__content")||closeModal(e,!0)})}function closeModal(e,o){unlock&&(e.classList.remove("active"),o&&toggleBodyScroll(!0))}function toggleBodyScroll(e){e&&!1===fsMenuIsActive?(body.style.paddingRight=0,body.classList.remove("fixed")):(body.style.paddingRight=returnScrollbarWidth()+"px",body.classList.add("fixed")),unlock=!1,setTimeout(()=>{unlock=!0},500)}doc.addEventListener("keydown",e=>{if("Escape"===e.code){closeModal(doc.querySelector(".modal-window.active"),!0)}});let spoilerButtons=doc.querySelectorAll("[data-spoiler-button]"),spoilerContentElements=doc.querySelectorAll("[data-spoiler-content]");function toggleToSpoilers(e){if(spoilerContentElements.length>0&&spoilerButtons.length==spoilerContentElements.length){for(let e=0;e<spoilerContentElements.length;e++)spoilerContentElements[e].classList.add("spoiler-content"),spoilerContentElements[e].hidden=!0,spoilerButtons[e].classList.add("spoiler-button");for(let e of spoilerButtons)e.addEventListener("click",toggleSpoilerState)}}function toggleSpoilerState(e){let o=e.target,t=o.nextElementSibling;toggleSpoilerAnimation(t,500),o.classList.toggle("active"),t.classList.toggle("active")}function spoilerUp(e,o){if(!1===e.classList.contains("_slide")){e.classList.add("_slide");let t=e.style;t.transitionProperty="height, margin, padding",t.transitionDuration=o+"ms",t.height=e.clientHeight+"px",e.clientHeight,t.overflow="hidden",t.height=0,t.paddingTop=0,t.paddingBottom=0,t.marginTop=0,t.marginBottom=0,window.setTimeout(()=>{e.hidden=!0,t.removeProperty("height"),t.removeProperty("padding-top"),t.removeProperty("padding-bottom"),t.removeProperty("margin-top"),t.removeProperty("margin-bottom"),t.removeProperty("overflow"),t.removeProperty("transition-duration"),t.removeProperty("transition-property"),e.classList.remove("_slide")},o)}}function spoilerDown(e,o){if(!1===e.classList.contains("_slide")){e.classList.add("_slide"),e.hidden&&(e.hidden=!1);let t=e.style,i=e.clientHeight;t.overflow="hidden",t.height=0,t.paddingTop=0,t.paddingBottom=0,t.marginTop=0,t.marginBottom=0,e.clientHeight,t.transitionProperty="height, margin, padding",t.transitionDuration=o+"ms",t.height=i+"px",t.removeProperty("padding-top"),t.removeProperty("padding-bottom"),t.removeProperty("margin-top"),t.removeProperty("margin-bottom"),window.setTimeout(()=>{t.removeProperty("height"),t.removeProperty("overflow"),t.removeProperty("transition-duration"),t.removeProperty("transition-property"),e.classList.remove("_slide")},o)}}function toggleSpoilerAnimation(e,o){return e.hidden?spoilerDown(e,o):spoilerUp(e,o)}toggleToSpoilers(),window.addEventListener("resize",toggleToSpoilers);